<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Legged Robotics</title>
        <link>https://vasilyrakche.github.io/</link>
        <description>Recent content on Legged Robotics</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Mon, 26 Apr 2021 08:40:58 +0200</lastBuildDate><atom:link href="https://vasilyrakche.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>BLDC Motor</title>
        <link>https://vasilyrakche.github.io/p/bldc/</link>
        <pubDate>Mon, 26 Apr 2021 08:40:58 +0200</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/bldc/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/bldc/pexels-lachlan-ross-6510369.jpg" alt="Featured image of post BLDC Motor" /&gt;&lt;h2 id=&#34;rough-calculations-for-required-characteristics&#34;&gt;Rough calculations for required characteristics&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://forum.openrov.com/t/brushless-motor-calculation/613&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Brushless motor calculation forum thread&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;motors-to-buy&#34;&gt;Motors to buy&lt;/h2&gt;
&lt;p&gt;Several criterias to have in mind; in no particular order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pancake shape (bigger diameter, thinner case) - more torque&lt;/li&gt;
&lt;li&gt;Smaller weight/size&lt;/li&gt;
&lt;li&gt;Smaller KV (more torque/less speed)&lt;/li&gt;
&lt;li&gt;Bigger number of poles (more torque)&lt;/li&gt;
&lt;li&gt;Price&lt;/li&gt;
&lt;li&gt;Overall power&lt;/li&gt;
&lt;li&gt;Max current and rated voltage&lt;/li&gt;
&lt;li&gt;Build quality&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;narrow-choice-motors&#34;&gt;Narrow choice motors&lt;/h3&gt;
&lt;h4 id=&#34;maytech&#34;&gt;Maytech&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://german.alibaba.com/product-detail/maytech-8626-100kv-brushless-outrunner-motor-with-large-uav-system-60464738343.html?spm=a2700.galleryofferlist.normal_offer.d_title.3f025493aLw9R6&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Maytech 8626 100kv 86x26,5mm 250g&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;t-motor&#34;&gt;T-Motor&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://store-en.tmotor.com/goods.php?id=998&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;T-Motor Antigravity 5008 KV170 270mOm 6s 128g 24N28P 55.6x32mm 720W 90Dollars &lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://store-en.tmotor.com/goods.php?id=774&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;T-Motor Antigravity 6007 KV160 227mOm 6-12s 180g 18N22P 67x30.1mm 864W 120Dollars&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://store-en.tmotor.com/goods.php?id=1113&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;T-Motor Antigravity 6007II KV160 178mOm 12S 159g 24N28P 67.2x26.1 1120W 130Dollars&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;other-interesting-options&#34;&gt;Other interesting options&lt;/h3&gt;
&lt;h4 id=&#34;sunnysky-motors&#34;&gt;Sunnysky motors&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60689277125-803892009/Sunnysky_M8_8108_100KV_multicopter_quadcopter_brushless_dc_motor_for_industrial_drones.html?spm=a2700.shop_plser.41413.29.2eb15cda9QTcbX&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MIT Mini cheetah 135KV 123 mOm 230g 86.8x23.9 36/42 Min order 1  Imax-30A/30s&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60590340370-803892009/M8_KV135_for_professional_video_surveillance_multirotor_uav_drone_motor.html?spm=a2700.shop_plser.41413.16.1fc45cdaxQ7QlV&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Link No.2 MIT Mini cheetah 135KV Min order 4&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60772795581-803892009/Sunnysky_M8_KV100_1100W_Brushless_DC_Motor_Professional_Industry_Drone_Motor.html?spm=a2700.shop_plser.41413.31.43285e06i66VkD&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MIT Mini cheetah 100kV 181mOm 230g 36/32 86.8x23.9 Min order 4 Imax-25A/180s&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60772747571-803074382/Sunnysky_V5210_300KV_1KW_Brushless_Motor_With_60A_ESC_6S_Lipo.html?spm=a2700.shop_plser.41413.33.72e45cda2Ix3f6&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Sunnysky V5210 300KV 76mOm 200g 59x25 24/28 Min order 1 Imax-44A/30s&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60833235668-803074382/Original_Sunnysky_V4004_300KV_brushless_outrunner_dc_motor_for_RC_drone_multirotor_quadcopter_multicopter_aircraft.html?spm=a2700.shop_plser.41413.28.7b405cdacepQrv&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Sunnysky V4004 300KV 448mOm 51g 43.6x16 18/24 Min order 1 Imax-10A/60s&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60772642998-803074382/Sunnysky_V4006_KV320_ESC_30A_With_4_6S_Lipo_Mini_RC_Drone_4_Axis_Quadcopter_Motor.html?spm=a2700.shop_plser.41413.15.69e85cdafGyE6k&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Sunnysky V4006 320KV 230mOm 66g 43.6x18mm 18/24 Min order 1 Imax-15A/60s&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://edge-china.en.alibaba.com/product/60527522696-803074382/Sunnysky_V5208_kv340_long_flight_time_drone_motor_good_bearing_ezo_beraing_for_multirotor_rc_model_plane_uav_power_system.html?spm=a2700.shop_plser.41413.13.73e57e0aBecyfn&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Sunnysky V5208 340KV 78mOm 175g 59x23 24/28 Min order 1 Imax-35A/30s&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;others&#34;&gt;Others&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.rc-eaglepower.com/en/ProductDetail/4559296.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Eaglepower LA8308 drone UAV 100kV 246mOm 90x26.5mm 279g&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://de.aliexpress.com/item/32291969073.html?spm=a2g0o.detail.1000014.28.47064bd56IQiJY&amp;amp;gps-id=pcDetailBottomMoreOtherSeller&amp;amp;scm=1007.33416.213724.0&amp;amp;scm_id=1007.33416.213724.0&amp;amp;scm-url=1007.33416.213724.0&amp;amp;pvid=0ec60b58-6e55-488f-ae50-275d7ed07af1&amp;amp;_t=gps-id:pcDetailBottomMoreOtherSeller,scm-url:1007.33416.213724.0,pvid:0ec60b58-6e55-488f-ae50-275d7ed07af1,tpp_buckets:668%230%23131923%2347_668%23888%233325%232_23416%230%23213724%230_23416%234721%2321967%23150_23416%234722%2321972%2310_668%232846%238108%231977_668%235811%2327178%2335_668%232717%237558%23187_668%231000022185%231000066058%230_668%233422%2315392%23994_4452%230%23214000%230_4452%233474%2315675%23251_4452%234862%2324463%23398_4452%233098%239599%23236_4452%235108%2323442%2319_4452%233564%2316062%23655&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;140V 245g 87mm &lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://de.aliexpress.com/item/32915350202.html?spm=a2g0x.12010615.8148356.60.73762800keM9NL&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;7025 TYI-POWER 170KV 87x34mm 189mÎ©&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://de.aliexpress.com/item/32292045079.html?spm=a2g0x.12010615.8148356.66.fca0737dZmIrvt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;UAV Motor 350KV 48x21mm 90g  &lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://de.aliexpress.com/item/695736037.html?spm=a2g0x.12010615.8148356.40.161164d4NcSese&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Drone Motor 600kV 45x25mm 18n24p 86g&lt;/a&gt;&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://de.aliexpress.com/item/4001270979778.html?spm=a2g0o.detail.1000014.26.47064bd56IQiJY&amp;amp;gps-id=pcDetailBottomMoreOtherSeller&amp;amp;scm=1007.33416.213724.0&amp;amp;scm_id=1007.33416.213724.0&amp;amp;scm-url=1007.33416.213724.0&amp;amp;pvid=0ec60b58-6e55-488f-ae50-275d7ed07af1&amp;amp;_t=gps-id:pcDetailBottomMoreOtherSeller,scm-url:1007.33416.213724.0,pvid:0ec60b58-6e55-488f-ae50-275d7ed07af1,tpp_buckets:668%230%23131923%2347_668%23888%233325%232_23416%230%23213724%230_23416%234721%2321967%23150_23416%234722%2321972%2310_668%232846%238108%231977_668%235811%2327178%2335_668%232717%237558%23187_668%231000022185%231000066058%230_668%233422%2315392%23994_4452%230%23214000%230_4452%233474%2315675%23251_4452%234862%2324463%23398_4452%233098%239599%23236_4452%235108%2323442%2319_4452%233564%2316062%23655&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;105kV UAV Motor 87x24.5mm 228g 186mOm &lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>All about mosfets</title>
        <link>https://vasilyrakche.github.io/p/all-about-mosfets/</link>
        <pubDate>Thu, 22 Apr 2021 00:00:00 +0000</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/all-about-mosfets/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/all-about-mosfets/pexels-binyamin-mellish-17840.jpg" alt="Featured image of post All about mosfets" /&gt;&lt;h2 id=&#34;slew-rate-control&#34;&gt;Slew-rate Control&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://training.ti.com/smart-motor-gate-drive-series-mosfet-slew-rate-control&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;From texas instruments&lt;/a&gt;
&lt;figure style=&#34;flex-grow: 189; flex-basis: 455px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-15-55-29.png&#34; data-size=&#34;1736x915&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-15-55-29.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-15-55-29_huff5ebd95b2e241557f314e7a52665080_480348_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-15-55-29_huff5ebd95b2e241557f314e7a52665080_480348_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1736&#34;
				height=&#34;915&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Slew-rate means the slope of the VDS for the mosfet
&lt;figure style=&#34;flex-grow: 192; flex-basis: 462px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-16-00-40.png&#34; data-size=&#34;1791x930&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-16-00-40.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-16-00-40_hu5391a6be01958208c036cb350ad1c59b_467796_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/all-about-mosfets/2021-03-20-16-00-40_hu5391a6be01958208c036cb350ad1c59b_467796_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1791&#34;
				height=&#34;930&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;driver-for-mosfet-control&#34;&gt;Driver for mosfet control&lt;/h2&gt;
&lt;h3 id=&#34;capacitors&#34;&gt;Capacitors&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;R3&lt;/strong&gt; based on (val wasnt mentioned)&lt;code&gt;8.3.1.2.1 Serial Peropheral Interface&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;R4&lt;/strong&gt; based on Figure 34 (val wasnt mentioned)&lt;br&gt;
&lt;strong&gt;C6&lt;/strong&gt; (X5R or X7R, 1-Î¼F, 16-V ceramic capacitor) and &lt;strong&gt;C5&lt;/strong&gt; (X5R or X7R, 47-nF, VM-rated ceramic capacitor) based on &lt;code&gt;8.3.1.3 Gate Driver Voltage  Supplies&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;C6&lt;/strong&gt; suggested to be split in two CVM1(X5R or X7R, 0.1-Î¼F, VM-rated capacitor) and CVM2 (â¥ 10 Î¼F, VM-rated capacitor)in &lt;code&gt;8.3. Feature description&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;C6&lt;/strong&gt;  (A 0.1-Î¼F ceramiccapacitorratedfor VM mustbe placedas closeto the deviceas possible) &lt;code&gt;10  PowerSupplyRecommendations&lt;/code&gt;
&lt;strong&gt;C7&lt;/strong&gt; (X5R or X7R, 1-Î¼F, 6.3-V ceramic capacitor routed directly back to the adjacent AGND ground pin) according to &lt;code&gt;8.3.2 DVDD Linear Voltage Regulator&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;VREFCAP&lt;/strong&gt; (X5R or X7R, 0.1-Î¼F, VREF-rated capacitor) in &lt;code&gt;8.3. Feature description&lt;/code&gt; &lt;br&gt;
&lt;strong&gt;nSHDN&lt;/strong&gt; (suggested to be attached with the 100kOhm resistor to protect the device in case of larger input voltage) but in the design left floating from &lt;code&gt;8.3.4EnableSHDNand VIN UndervoltageLockout&lt;/code&gt; from the &lt;code&gt;LMR16006&lt;/code&gt; datasheet
&lt;strong&gt;C17&lt;/strong&gt; and &lt;strong&gt;C2&lt;/strong&gt; not clear how it was chosen (X5R or X7R, 1 to 10 Î¼F, VM-rated capacitor suggested) from &lt;code&gt;8.3. Feature description&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;buck-boost&#34;&gt;Buck-boost&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Elements for Buck-Boost&lt;/strong&gt; configuration can be seen in &lt;code&gt;9.2 TypicalApplication&lt;/code&gt; from &lt;code&gt;LMR16006&lt;/code&gt; datasheet
If calculated with 0.6 max current and 40% K_id and max voltage 24V, the inductor minimum value should be bigger - &lt;strong&gt;23.8uH&lt;/strong&gt;
Output capacitance is likely ok, only minimum value can be calculated, but the datasheet sugests to experiment with values up to &lt;strong&gt;100uF&lt;/strong&gt; as stated in &lt;code&gt;9.2.2.3 Output Capacitor Selection&lt;/code&gt;
Regarding input capacitance. If 10uF is chosen (suggested is value between 1uF and 10uF). Then the ripple current calculated is 0.25A and the input voltage deviation is 21mV. Capacitor ripple current must be greater then calculated. Based on the datasheet for 10uF capacitor from original design, the only concern is rise of the temperature when working in AC conditions, and based on the Temperature-Arms graph 0.25A is well inside the safe limit for this capacitor.
&lt;figure style=&#34;flex-grow: 108; flex-basis: 260px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-04-15-15-49-44.png&#34; data-size=&#34;389x358&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-04-15-15-49-44.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/all-about-mosfets/2021-04-15-15-49-44_hu6d7a9a71cef406e67ebc77bfc1f26024_27990_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/all-about-mosfets/2021-04-15-15-49-44_hu6d7a9a71cef406e67ebc77bfc1f26024_27990_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;389&#34;
				height=&#34;358&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Resistors are taken from typical application and the output is fixed based on the resistance values(doesnt scale depending on input). How to calculate resistors is explained in &lt;code&gt;8.3.3 Output Voltage Setting&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;33-v-linear-generator&#34;&gt;3.3 V linear generator&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;MC1&lt;/strong&gt; according to suggestion from &lt;code&gt;LDFM33PUR datasheet&lt;/code&gt;
&lt;strong&gt;C19&lt;/strong&gt; and &lt;strong&gt;C20&lt;/strong&gt; (both 22 uF) not according to Stable ESR zone, in &lt;code&gt;LDFM33PUR datasheet&lt;/code&gt; stated max value 22uF in &lt;code&gt;Figure 26: Stability plane 3.3 V (COUT, ESR)&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Creating Markdown Websites</title>
        <link>https://vasilyrakche.github.io/p/creating-markdown-sites/</link>
        <pubDate>Thu, 22 Apr 2021 00:00:00 +0000</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/creating-markdown-sites/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/creating-markdown-sites/pexels-reafon.jpg" alt="Featured image of post Creating Markdown Websites" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://towardsdatascience.com/how-to-create-a-free-github-pages-website-53743d7524e1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;How to effortlessly create a website for free with GitHub Pages (even if you donât know what youâre doing)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://betterprogramming.pub/build-a-blog-with-github-and-mkdocs-cf47914affa7&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Build a Blog With GitHub and MkDocs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/7/docsify-github-pages&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;How to create a documentation site with Docsify and GitHub Pages&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;He said that he used some template in the post about moving to github
&lt;a class=&#34;link&#34; href=&#34;https://ocramius.github.io/about/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Example of a nice page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://jhildenbiddle.github.io/docsify-themeable/#/quick-start?id=installation&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Modify the docsify-themeable&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Handling Driver</title>
        <link>https://vasilyrakche.github.io/p/handling-driver/</link>
        <pubDate>Thu, 22 Apr 2021 00:00:00 +0000</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/handling-driver/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/handling-driver/pexels-matheus-bertelli-4558403.jpg" alt="Featured image of post Handling Driver" /&gt;&lt;h2 id=&#34;cautions&#34;&gt;Cautions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Power supply must be able to sink-in current, if cant must design &lt;a class=&#34;link&#34; href=&#34;https://www.pololu.com/category/249/shunt-regulators&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Shunt Regulators&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pre-charge circuit must be used, more intuition about it: &lt;a class=&#34;link&#34; href=&#34;https://cotronics.nl/ger-series-contactors-in-electric-vehicles/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;How the pre-charge works, some intuituion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Do not connect ground pins of the CAN connector between Motor Drives&lt;/li&gt;
&lt;li&gt;Isolation of grounds is desired between the computer and Controller. In case of controll with TTY, possible solution: &lt;a class=&#34;link&#34; href=&#34;https://www.amazon.com/gp/product/B00KM6XMXO&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CAN Board Connecting MCUs to CAN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Some internal settings in Firmware are calculated on Power-on. Restart when new settings applied&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More information: &lt;a class=&#34;link&#34; href=&#34;https://docs.google.com/document/d/1dzNVzblz6mqB3eZVEMyi2MtSngALHdgpTaDJIW_BpS4/edit&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Motor Drive Documentation&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;useful-links&#34;&gt;Useful links&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.google.com/document/d/1QIEI6IdHOcW4N1cRyucb33io4LriNYafIMs1sjLfTQU/edit&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;External research on MIT controllor by Bart&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Notes about selecting components for BLDC driver</title>
        <link>https://vasilyrakche.github.io/p/bldc-components/</link>
        <pubDate>Thu, 22 Apr 2021 00:00:00 +0000</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/bldc-components/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/bldc-components/pexels-guillaume-meurice-3757231.jpg" alt="Featured image of post Notes about selecting components for BLDC driver" /&gt;&lt;h1 id=&#34;stm32f446re-hardware-design-choices&#34;&gt;STM32F446re hardware design choices&lt;/h1&gt;
&lt;p&gt;Example from Nucle64 Development board design from STM:&lt;br&gt;
&lt;figure style=&#34;flex-grow: 135; flex-basis: 325px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-12-22-03-27.png&#34; data-size=&#34;657x485&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-12-22-03-27.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-12-22-03-27_hude033286749c22e63623253123d8d726_196291_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-12-22-03-27_hude033286749c22e63623253123d8d726_196291_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;657&#34;
				height=&#34;485&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Another Example from STM32 series Evaluation board (Two capacitors for decoupling smaller C21 and the One which is selected with white outline):
&lt;figure style=&#34;flex-grow: 193; flex-basis: 465px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/image4.png&#34; data-size=&#34;952x491&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/image4.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/image4_hu2c274c73946b539cfc859e57232fcc71_136412_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/image4_hu2c274c73946b539cfc859e57232fcc71_136412_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;952&#34;
				height=&#34;491&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;br&gt;
In these schematics the closer is the bigger capacitor, however, that doesn&amp;rsquo;t make much difference since both of them are not that close to the board. Recommendation is to place the smallest one as close as possible to the PCB as suggested by &lt;a class=&#34;link&#34; href=&#34;https://www.analog.com/media/en/training-seminars/tutorials/MT-101.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Analog application note&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;chosing-murrata-oscillator&#34;&gt;Chosing murrata oscillator&lt;/h2&gt;
&lt;p&gt;Typical circuit diagram is presented in &lt;a class=&#34;link&#34; href=&#34;https://www.murata.com/-/media/webrenewal/support/library/catalog/products/timingdevice/ceralock/p17e.ashx?la=en-gb&amp;amp;cvid=20210217041637000000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CERALOCK Application Manual&lt;/a&gt;:
&lt;figure style=&#34;flex-grow: 207; flex-basis: 497px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-46-42.png&#34; data-size=&#34;864x417&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-46-42.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-46-42_hue17cc4857d4ca8ea7e8d2ac38198c328_87876_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-46-42_hue17cc4857d4ca8ea7e8d2ac38198c328_87876_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;864&#34;
				height=&#34;417&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;As stated, one can check &lt;a class=&#34;link&#34; href=&#34;http://www.murata.com/simsurf/ic-td/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Murrata ICs Database&lt;/a&gt; for more precise details on applications. For example, for &lt;code&gt;STM32F446&lt;/code&gt; the following is shown:&lt;/p&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 946; flex-basis: 2270px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-50-26.png&#34; data-size=&#34;1353x143&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-50-26.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-50-26_huacc4ddadc79aa548a803e3b80877427f_47901_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-03-17-11-50-26_huacc4ddadc79aa548a803e3b80877427f_47901_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1353&#34;
				height=&#34;143&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;However, based on the datasheet of &lt;code&gt;STM32F446&lt;/code&gt; in section &lt;code&gt;High-speed external clock generated from a crystal/ceramic resonator&lt;/code&gt; the required precision is &lt;code&gt;500ppm&lt;/code&gt;, which means that the maximum deviation is 0.05%. The oscillator from previous design &lt;code&gt;CSTNE8M00GH5L000R0&lt;/code&gt; has precision of &lt;code&gt;0.07%(max)&lt;/code&gt; which doesnt satisfy requirements, but seams that STM is working alright with this one aswell.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Important notice&lt;/strong&gt;: The pins of the oscillator in case of  &lt;code&gt;CSTNE8M00GH5L000R0&lt;/code&gt; are not interchangable, which is stated in its datasheet.&lt;/p&gt;
&lt;h2 id=&#34;emi-protection-for-power&#34;&gt;EMI protection for power&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.powersystemsdesign.com/articles/ferrite-bead-demystified/95/10031&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Explanation about how Ferrite Bead work&lt;/a&gt;
Ferrit Bead is suggested in Application note &lt;code&gt;AN4488-Getting started with stm32f4&lt;/code&gt; in Chapter &lt;code&gt;7. Reference Design&lt;/code&gt; and taken characteristics for suggested one:&lt;/p&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 134; flex-basis: 323px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-17-57-54.png&#34; data-size=&#34;513x381&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-17-57-54.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-17-57-54_hu1a3500d2a9759c471bb7fd03374aa976_26728_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-17-57-54_hu1a3500d2a9759c471bb7fd03374aa976_26728_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;513&#34;
				height=&#34;381&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;The one chosen in the design fits perfectly for this purpose.&lt;/p&gt;
&lt;h2 id=&#34;capacitors-for-power&#34;&gt;Capacitors for power&lt;/h2&gt;
&lt;p&gt;In STM32 datasheet in General PCB design guidelines it is suggested to use parallel capacitors between VSSA and VDDA.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://electronics.stackexchange.com/questions/325881/how-to-read-stm32f407xx-microcontroller-power-schematic&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;How to read STM32 Microcontroller Power Schematic&lt;/a&gt; can further clarfy application note about how to use capacitors.&lt;/p&gt;
&lt;p&gt;Double capacitor for VBAT pin is used (for other 3v3 pins only single 100nF capacitor is used):
&lt;figure style=&#34;flex-grow: 156; flex-basis: 375px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-18-02-24.png&#34; data-size=&#34;935x597&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-18-02-24.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-18-02-24_huacb160c51577ff2f878d6da7044db033_30901_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-03-17-18-02-24_huacb160c51577ff2f878d6da7044db033_30901_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;935&#34;
				height=&#34;597&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Capacitors for VDDs are suggested as 100nF from Power supply scheme in Datasheet.&lt;/p&gt;
&lt;h3 id=&#34;capacitors-insights&#34;&gt;Capacitors insights&lt;/h3&gt;
&lt;p&gt;Suggested value is just 100nF instead of 2 parallel with different values because of the anti-resonance effect. Check &lt;a class=&#34;link&#34; href=&#34;https://electronics.stackexchange.com/questions/327975/capacitance-vs-frequency-graph-of-ceramic-capacitors&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Capacitors vs frequency, ringing, ESL, ESR&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;insigts-about-the-esl-and-esr-of-capacitors-from-lecturehttpntuemctwuploadfile20120419205619a4fcfpdf&#34;&gt;Insigts about the ESL and ESR of Capacitors from &lt;a class=&#34;link&#34; href=&#34;http://ntuemc.tw/upload/file/20120419205619a4fcf.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lecture&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Higher capacitance -&amp;gt; Higher ESL (depends largly from packaging - same package -&amp;gt; same Inductance). Additional: Thats why when having parallel capacitors of different values the advantage if smaller value is that its available in smaller package, meaning with smaller ESL.  &lt;a class=&#34;link&#34; href=&#34;https://electronics.stackexchange.com/questions/327975/capacitance-vs-frequency-graph-of-ceramic-capacitors&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Source&lt;/a&gt;
Higher capacitance -&amp;gt; Lower ESR (It depends from technology, the best one is &lt;code&gt;NFO&lt;/code&gt;, and next best is &lt;code&gt;X7R&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 151; flex-basis: 364px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-23-33.png&#34; data-size=&#34;814x536&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-23-33.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-23-33_hu9f8960925d515615e0b6c11a4c6fa9e8_214962_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-23-33_hu9f8960925d515615e0b6c11a4c6fa9e8_214962_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;814&#34;
				height=&#34;536&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ESL of the capacitance depends on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pad layout (the biggest amoung all, can be reduced by proper pad design and via placement)&lt;/li&gt;
&lt;li&gt;Capacitor height&lt;/li&gt;
&lt;li&gt;Power plance spreading inductance&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pad layout design and via placing:
&lt;figure style=&#34;flex-grow: 218; flex-basis: 524px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-22-15.png&#34; data-size=&#34;653x299&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-22-15.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-22-15_hu5618fa6ecafb382ca10731a1d5f1b4f3_38051_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-22-15_hu5618fa6ecafb382ca10731a1d5f1b4f3_38051_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;653&#34;
				height=&#34;299&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Plane separation influence:
&lt;figure style=&#34;flex-grow: 161; flex-basis: 388px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-25-57.png&#34; data-size=&#34;727x449&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-25-57.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-25-57_hu90275ac7be2690c31d7f84932559f583_76529_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-25-57_hu90275ac7be2690c31d7f84932559f583_76529_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;727&#34;
				height=&#34;449&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;same-value-capacitors&#34;&gt;Same value capacitors&lt;/h4&gt;
&lt;p&gt;Same value capacitance will reduce overall impedance:
&lt;figure style=&#34;flex-grow: 156; flex-basis: 374px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-26-25.png&#34; data-size=&#34;807x517&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-26-25.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-26-25_hu76601de596c8ee16070c8270533164f6_146735_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-26-25_hu76601de596c8ee16070c8270533164f6_146735_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;807&#34;
				height=&#34;517&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;anti-resonance-for-different-values-capacitors&#34;&gt;Anti-resonance for different values capacitors&lt;/h4&gt;
&lt;p&gt;Problem (especially when large gaps exist in capacitive values)
&lt;figure style=&#34;flex-grow: 175; flex-basis: 420px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-09.png&#34; data-size=&#34;812x463&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-09.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-09_hubfa451bdba385d8307c2a2e8141c037f_133319_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-09_hubfa451bdba385d8307c2a2e8141c037f_133319_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;812&#34;
				height=&#34;463&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;
Solution is to minimise the ESL
&lt;figure style=&#34;flex-grow: 176; flex-basis: 423px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-31.png&#34; data-size=&#34;772x438&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-31.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-31_hu8f055342ba5e0141a65036cc98887edf_116978_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-04-08-21-27-31_hu8f055342ba5e0141a65036cc98887edf_116978_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;772&#34;
				height=&#34;438&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;capacitors-value-can-vary-as-mentioned-herehttpselectronicsstackexchangecoma288899221561&#34;&gt;Capacitors value can vary as mentioned &lt;a class=&#34;link&#34; href=&#34;https://electronics.stackexchange.com/a/288899/221561&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;here&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;With temeparture and time, capacitor values can change up to 40% of its rated voltage.&lt;/p&gt;
&lt;p&gt;Thumb up rule would be to use on max the half of their rated voltage, also the value of capacitor can be increased up to 2 times, since for regulator decopling, the value is often important for stability.&lt;/p&gt;
&lt;h2 id=&#34;vcap_1-external-capacitor&#34;&gt;VCAP_1 external capacitor&lt;/h2&gt;
&lt;p&gt;In STM32 datasheet it is suggested to use 4.7uF when single VCAP pin is present.&lt;/p&gt;
&lt;h2 id=&#34;can-interface&#34;&gt;CAN interface&lt;/h2&gt;
&lt;p&gt;Pins PB8 and PB9 are used for CAN1. Pins PB7 and PB6 not clear
&lt;figure style=&#34;flex-grow: 126; flex-basis: 304px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-17-57-41.png&#34; data-size=&#34;995x785&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-17-57-41.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/bldc-components/2021-03-17-17-57-41_hu3c026282ee08596acbe4ce8121c72052_124129_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/bldc-components/2021-03-17-17-57-41_hu3c026282ee08596acbe4ce8121c72052_124129_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;995&#34;
				height=&#34;785&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;debug&#34;&gt;Debug&lt;/h2&gt;
&lt;p&gt;2 debug pins are provided PA13 and PA14 which are used for SW debug (support for JTAG not provided)&lt;/p&gt;
&lt;h2 id=&#34;other-notes&#34;&gt;Other notes&lt;/h2&gt;
&lt;p&gt;General guideliness and for example schematic check &lt;code&gt;Getting started with STM32F4xxxx MCU hardware development AN4488&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;can-interface-1&#34;&gt;CAN interface&lt;/h1&gt;
&lt;p&gt;As presented on example in &lt;code&gt;1.8Typical Applications&lt;/code&gt; in &lt;code&gt;U$6-MCP2542&lt;/code&gt; Datasheet&lt;/p&gt;
&lt;h1 id=&#34;33-v-linear-generator&#34;&gt;3.3 V linear generator&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;MC1&lt;/strong&gt; according to suggestion from &lt;code&gt;LDFM33PUR datasheet&lt;/code&gt;
&lt;strong&gt;C19&lt;/strong&gt; and &lt;strong&gt;C20&lt;/strong&gt; (both 22 uF) not according to Stable ESR zone, in &lt;code&gt;LDFM33PUR datasheet&lt;/code&gt; stated max value 22uF in &lt;code&gt;Figure 26: Stability plane 3.3 V (COUT, ESR)&lt;/code&gt;. However, due to the constant bias voltage acting on capacitors (3.3V) the capacitance will be reduced by more then 50%; yealding in total for two capacitors a bit less then 22uF under 3.3V and 25 Degrees Celsius. For more precise estimation of the capacitance refer to  &lt;a class=&#34;link&#34; href=&#34;http://product.samsungsem.com/mlcc/basic-search.do&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Samsung Product Database&lt;/a&gt;, or &lt;a class=&#34;link&#34; href=&#34;https://ds.murata.co.jp/simsurfing/index.html?lcid=en-us&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Murrata Product Database SimuSurfing&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;switch&#34;&gt;Switch&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.digikey.de/product-detail/de/e-switch/TL3305AF160QG/EG5350TR-ND/5816181&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Suggestion for the button switch&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.digikey.de/product-detail/de/e-switch/TL3302AF180QG/EG2528DKR-ND/745644&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Top switch&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.digikey.de/product-detail/de/TL1014BF160QG/EG5042CT-ND/3910808/?itemSeq=360831777&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Side switch&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>PCB design tips</title>
        <link>https://vasilyrakche.github.io/p/pcb-design-tips/</link>
        <pubDate>Thu, 22 Apr 2021 00:00:00 +0000</pubDate>
        
        <guid>https://vasilyrakche.github.io/p/pcb-design-tips/</guid>
        <description>&lt;img src="https://vasilyrakche.github.io/p/pcb-design-tips/pexels-cottonbro-5554180.jpg" alt="Featured image of post PCB design tips" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.ti.com/lit/an/slpa005/slpa005.pdf?ts=1617219980194&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Suggestions on placing the MOSFETs to prevent ringing&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;http://electronicsbeliever.com/ltspice-circuit-simulation-tutorials-for-beginners/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LT Spice circuit simulation for begginers&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;general-guideliness&#34;&gt;General guideliness&lt;/h2&gt;
&lt;p&gt;Based on the &lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=DIMIzKRmync&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Eric Bogatin on Breaking Bad Habits in PCB Design&lt;/a&gt;.Some additional details in his &lt;a class=&#34;link&#34; href=&#34;https://www.signalintegrityjournal.com/blogs/12-fundamentals/post/1207-seven-habits-of-successful-2-layer-board-designers&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;article&lt;/a&gt;
Signal trace width - 6 mil (1 Amp max)
Power traces - 20 mil (3 Amp max)
Drilled diameter for signal traces - 13 mil - narrow via to get higher interconnectency
If one must route something on bottom layer, make path short and use bridges (return strap) as on the picture:
&lt;figure style=&#34;flex-grow: 206; flex-basis: 494px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-15-33-08.png&#34; data-size=&#34;340x165&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-15-33-08.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-15-33-08_hu6ce090ac5e38fa1d500ac44f2d85b103_36038_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-15-33-08_hu6ce090ac5e38fa1d500ac44f2d85b103_36038_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;340&#34;
				height=&#34;165&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;
&lt;a class=&#34;link&#34; href=&#34;https://youtu.be/y4REmZlE7Jg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Algorighm for choosing the capacitance&lt;/a&gt; is to flat out the previous circuit impedance (as looking from the end- Microcontroller for example) to the beggingin (Voltage source)
&lt;figure style=&#34;flex-grow: 204; flex-basis: 491px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-30-39.png&#34; data-size=&#34;1886x921&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-30-39.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-30-39_hu7bdb4021bee8a2f7d13e52e86c320491_571161_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-30-39_hu7bdb4021bee8a2f7d13e52e86c320491_571161_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1886&#34;
				height=&#34;921&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;
In particular, when chosing capcitance, try to flat out the peak from the previous capacitance in the circuit:
&lt;figure style=&#34;flex-grow: 204; flex-basis: 490px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-29-22.png&#34; data-size=&#34;1897x929&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-29-22.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-29-22_hu7c765fecf3f3c5aee1a62224d2d433a3_753062_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/2021-04-12-17-29-22_hu7c765fecf3f3c5aee1a62224d2d433a3_753062_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1897&#34;
				height=&#34;929&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;
Initial resons for having several capacitance:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Smaller value would have lower inductance (to lower down impedance on higher frequences)&lt;/li&gt;
&lt;li&gt;Larger values will provide needed capacitance for the device&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Some useful guideliness from &lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=YMfBbiguoY4&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;YouTube&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;
Careful about the return paths:
&lt;figure style=&#34;flex-grow: 141; flex-basis: 340px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image0.png&#34; data-size=&#34;1267x894&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image0.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image0_hu48a5ab7b6ddfa8b32c62c99b002c51bb_512304_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/image0_hu48a5ab7b6ddfa8b32c62c99b002c51bb_512304_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1267&#34;
				height=&#34;894&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;
For more information on return paths check &lt;a class=&#34;link&#34; href=&#34;https://www.emcs.org/acstrial/newsletters/fall08/tips.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Understanding return paths&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Suggestion on ground connection:&lt;br&gt;
&lt;figure style=&#34;flex-grow: 276; flex-basis: 664px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/unnamed.png&#34; data-size=&#34;512x185&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/unnamed.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/unnamed_huec8d75f884f82461a623ebbc3a8d619c_25429_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/unnamed_huec8d75f884f82461a623ebbc3a8d619c_25429_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;512&#34;
				height=&#34;185&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;br&gt;
Watch out traces: &lt;br&gt;
&lt;figure style=&#34;flex-grow: 179; flex-basis: 430px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image1.png&#34; data-size=&#34;1596x890&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image1.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image1_hu464f41712d8050c906206848c3acbd45_448208_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/image1_hu464f41712d8050c906206848c3acbd45_448208_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1596&#34;
				height=&#34;890&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Paths when decopling introduced:&lt;br&gt;
&lt;figure style=&#34;flex-grow: 156; flex-basis: 374px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image3.png&#34; data-size=&#34;1358x870&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image3.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image3_hu6c93ce00bb5786ab3082281ac488313d_411354_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/image3_hu6c93ce00bb5786ab3082281ac488313d_411354_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;1358&#34;
				height=&#34;870&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Reason behind twisting the power cables:&lt;br&gt;
&lt;figure style=&#34;flex-grow: 225; flex-basis: 541px&#34;&gt;
		&lt;a href=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image2.png&#34; data-size=&#34;512x227&#34;&gt;&lt;img src=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image2.png&#34;
				srcset=&#34;https://vasilyrakche.github.io/p/pcb-design-tips/image2_hu840bad735abac73a1bddf7cac09e7d2d_92769_480x0_resize_box_2.png 480w, https://vasilyrakche.github.io/p/pcb-design-tips/image2_hu840bad735abac73a1bddf7cac09e7d2d_92769_1024x0_resize_box_2.png 1024w&#34;
				width=&#34;512&#34;
				height=&#34;227&#34;
				loading=&#34;lazy&#34;
				&gt;
		&lt;/a&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Thermal via size is important- if too large, termal vias will wick the solder material which can result in poor connection of the termal pad to the package. Based on &lt;a class=&#34;link&#34; href=&#34;https://www.ti.com/lit/an/slma002h/slma002h.pdf?ts=1618675811337&amp;amp;ref_url=https%253A%252F%252Fwww.google.com%252F&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Texas instruments application note&lt;/a&gt; it is suggested to use 0.33mm drill size via, or smaller (with copper plated barrell for conductivity)&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
