[{"content":"Slew-rate Control From texas instruments  \nSlew-rate means the slope of the VDS for the mosfet  \nDriver for mosfet control Capacitors R3 based on (val wasnt mentioned)8.3.1.2.1 Serial Peropheral Interface\nR4 based on Figure 34 (val wasnt mentioned)\nC6 (X5R or X7R, 1-μF, 16-V ceramic capacitor) and C5 (X5R or X7R, 47-nF, VM-rated ceramic capacitor) based on 8.3.1.3 Gate Driver Voltage Supplies\nC6 suggested to be split in two CVM1(X5R or X7R, 0.1-μF, VM-rated capacitor) and CVM2 (≥ 10 μF, VM-rated capacitor)in 8.3. Feature description\nC6 (A 0.1-μF ceramiccapacitorratedfor VM mustbe placedas closeto the deviceas possible) 10 PowerSupplyRecommendations C7 (X5R or X7R, 1-μF, 6.3-V ceramic capacitor routed directly back to the adjacent AGND ground pin) according to 8.3.2 DVDD Linear Voltage Regulator\nVREFCAP (X5R or X7R, 0.1-μF, VREF-rated capacitor) in 8.3. Feature description nSHDN (suggested to be attached with the 100kOhm resistor to protect the device in case of larger input voltage) but in the design left floating from 8.3.4EnableSHDNand VIN UndervoltageLockout from the LMR16006 datasheet C17 and C2 not clear how it was chosen (X5R or X7R, 1 to 10 μF, VM-rated capacitor suggested) from 8.3. Feature description\nBuck-boost Elements for Buck-Boost configuration can be seen in 9.2 TypicalApplication from LMR16006 datasheet If calculated with 0.6 max current and 40% K_id and max voltage 24V, the inductor minimum value should be bigger - 23.8uH Output capacitance is likely ok, only minimum value can be calculated, but the datasheet sugests to experiment with values up to 100uF as stated in 9.2.2.3 Output Capacitor Selection Regarding input capacitance. If 10uF is chosen (suggested is value between 1uF and 10uF). Then the ripple current calculated is 0.25A and the input voltage deviation is 21mV. Capacitor ripple current must be greater then calculated. Based on the datasheet for 10uF capacitor from original design, the only concern is rise of the temperature when working in AC conditions, and based on the Temperature-Arms graph 0.25A is well inside the safe limit for this capacitor.  \nResistors are taken from typical application and the output is fixed based on the resistance values(doesnt scale depending on input). How to calculate resistors is explained in 8.3.3 Output Voltage Setting\n3.3 V linear generator MC1 according to suggestion from LDFM33PUR datasheet C19 and C20 (both 22 uF) not according to Stable ESR zone, in LDFM33PUR datasheet stated max value 22uF in Figure 26: Stability plane 3.3 V (COUT, ESR)\n","date":"2021-04-22T00:00:00Z","image":"https://vasilyrakche.github.io/p/all-about-mosfets/pexels-binyamin-mellish-17840_hu3d03a01dcc18bc5be0e67db3d8d209a6_117902_120x120_fill_q75_box_smart1.jpg","permalink":"https://vasilyrakche.github.io/p/all-about-mosfets/","title":"All about mosfets"},{"content":"How to effortlessly create a website for free with GitHub Pages (even if you don’t know what you’re doing)\nBuild a Blog With GitHub and MkDocs\nHow to create a documentation site with Docsify and GitHub Pages\nHe said that he used some template in the post about moving to github Example of a nice page\nModify the docsify-themeable\n","date":"2021-04-22T00:00:00Z","image":"https://vasilyrakche.github.io/p/creating-markdown-sites/pexels-reafon_hu3d03a01dcc18bc5be0e67db3d8d209a6_874108_120x120_fill_q75_box_smart1.jpg","permalink":"https://vasilyrakche.github.io/p/creating-markdown-sites/","title":"Creating Markdown Websites"},{"content":"Cautions  Power supply must be able to sink-in current, if cant must design Shunt Regulators Pre-charge circuit must be used, more intuition about it: How the pre-charge works, some intuituion Do not connect ground pins of the CAN connector between Motor Drives Isolation of grounds is desired between the computer and Controller. In case of controll with TTY, possible solution: CAN Board Connecting MCUs to CAN Some internal settings in Firmware are calculated on Power-on. Restart when new settings applied  More information: Motor Drive Documentation\nUseful links External research on MIT controllor by Bart\n","date":"2021-04-22T00:00:00Z","image":"https://vasilyrakche.github.io/p/handling-driver/pexels-matheus-bertelli-4558403_hu3d03a01dcc18bc5be0e67db3d8d209a6_471037_120x120_fill_q75_box_smart1.jpg","permalink":"https://vasilyrakche.github.io/p/handling-driver/","title":"Handling Driver"},{"content":"STM32F446re hardware design choices Example from Nucle64 Development board design from STM:\n \nAnother Example from STM32 series Evaluation board (Two capacitors for decoupling smaller C21 and the One which is selected with white outline):  \nIn these schematics the closer is the bigger capacitor, however, that doesn\u0026rsquo;t make much difference since both of them are not that close to the board. Recommendation is to place the smallest one as close as possible to the PCB as suggested by Analog application note\nChosing murrata oscillator Typical circuit diagram is presented in CERALOCK Application Manual:  \nAs stated, one can check Murrata ICs Database for more precise details on applications. For example, for STM32F446 the following is shown:\n \nHowever, based on the datasheet of STM32F446 in section High-speed external clock generated from a crystal/ceramic resonator the required precision is 500ppm, which means that the maximum deviation is 0.05%. The oscillator from previous design CSTNE8M00GH5L000R0 has precision of 0.07%(max) which doesnt satisfy requirements, but seams that STM is working alright with this one aswell.\nImportant notice: The pins of the oscillator in case of CSTNE8M00GH5L000R0 are not interchangable, which is stated in its datasheet.\nEMI protection for power Explanation about how Ferrite Bead work Ferrit Bead is suggested in Application note AN4488-Getting started with stm32f4 in Chapter 7. Reference Design and taken characteristics for suggested one:\n \nThe one chosen in the design fits perfectly for this purpose.\nCapacitors for power In STM32 datasheet in General PCB design guidelines it is suggested to use parallel capacitors between VSSA and VDDA.\nHow to read STM32 Microcontroller Power Schematic can further clarfy application note about how to use capacitors.\nDouble capacitor for VBAT pin is used (for other 3v3 pins only single 100nF capacitor is used):  \nCapacitors for VDDs are suggested as 100nF from Power supply scheme in Datasheet.\nCapacitors insights Suggested value is just 100nF instead of 2 parallel with different values because of the anti-resonance effect. Check Capacitors vs frequency, ringing, ESL, ESR\nInsigts about the ESL and ESR of Capacitors from Lecture Higher capacitance -\u0026gt; Higher ESL (depends largly from packaging - same package -\u0026gt; same Inductance). Additional: Thats why when having parallel capacitors of different values the advantage if smaller value is that its available in smaller package, meaning with smaller ESL. Source Higher capacitance -\u0026gt; Lower ESR (It depends from technology, the best one is NFO, and next best is X7R)\n \nESL of the capacitance depends on:\n Pad layout (the biggest amoung all, can be reduced by proper pad design and via placement) Capacitor height Power plance spreading inductance  Pad layout design and via placing:  \nPlane separation influence:  \nSame value capacitors Same value capacitance will reduce overall impedance:  \nAnti-resonance for different values capacitors Problem (especially when large gaps exist in capacitive values)   Solution is to minimise the ESL  \nCapacitors value can vary as mentioned here With temeparture and time, capacitor values can change up to 40% of its rated voltage.\nThumb up rule would be to use on max the half of their rated voltage, also the value of capacitor can be increased up to 2 times, since for regulator decopling, the value is often important for stability.\nVCAP_1 external capacitor In STM32 datasheet it is suggested to use 4.7uF when single VCAP pin is present.\nCAN interface Pins PB8 and PB9 are used for CAN1. Pins PB7 and PB6 not clear  \nDebug 2 debug pins are provided PA13 and PA14 which are used for SW debug (support for JTAG not provided)\nOther notes General guideliness and for example schematic check Getting started with STM32F4xxxx MCU hardware development AN4488\nCAN interface As presented on example in 1.8Typical Applications in U$6-MCP2542 Datasheet\n3.3 V linear generator MC1 according to suggestion from LDFM33PUR datasheet C19 and C20 (both 22 uF) not according to Stable ESR zone, in LDFM33PUR datasheet stated max value 22uF in Figure 26: Stability plane 3.3 V (COUT, ESR). However, due to the constant bias voltage acting on capacitors (3.3V) the capacitance will be reduced by more then 50%; yealding in total for two capacitors a bit less then 22uF under 3.3V and 25 Degrees Celsius. For more precise estimation of the capacitance refer to Samsung Product Database, or Murrata Product Database SimuSurfing\nSwitch Suggestion for the button switch Top switch Side switch\n","date":"2021-04-22T00:00:00Z","image":"https://vasilyrakche.github.io/p/bldc-components/pexels-guillaume-meurice-3757231_hu3d03a01dcc18bc5be0e67db3d8d209a6_141439_120x120_fill_q75_box_smart1.jpg","permalink":"https://vasilyrakche.github.io/p/bldc-components/","title":"Notes about selecting components for BLDC driver"},{"content":"Suggestions on placing the MOSFETs to prevent ringing LT Spice circuit simulation for begginers\nGeneral guideliness Based on the Eric Bogatin on Breaking Bad Habits in PCB Design.Some additional details in his article Signal trace width - 6 mil (1 Amp max) Power traces - 20 mil (3 Amp max) Drilled diameter for signal traces - 13 mil - narrow via to get higher interconnectency If one must route something on bottom layer, make path short and use bridges (return strap) as on the picture:   Algorighm for choosing the capacitance is to flat out the previous circuit impedance (as looking from the end- Microcontroller for example) to the beggingin (Voltage source)   In particular, when chosing capcitance, try to flat out the peak from the previous capacitance in the circuit:   Initial resons for having several capacitance:\n Smaller value would have lower inductance (to lower down impedance on higher frequences) Larger values will provide needed capacitance for the device  Some useful guideliness from YouTube\nCareful about the return paths:   For more information on return paths check Understanding return paths\nSuggestion on ground connection:\n \nWatch out traces:  \nPaths when decopling introduced:\n \nReason behind twisting the power cables:\n \nThermal via size is important- if too large, termal vias will wick the solder material which can result in poor connection of the termal pad to the package. Based on Texas instruments application note it is suggested to use 0.33mm drill size via, or smaller (with copper plated barrell for conductivity)\n","date":"2021-04-22T00:00:00Z","image":"https://vasilyrakche.github.io/p/pcb-design-tips/pexels-cottonbro-5554180_hu3d03a01dcc18bc5be0e67db3d8d209a6_303835_120x120_fill_q75_box_smart1.jpg","permalink":"https://vasilyrakche.github.io/p/pcb-design-tips/","title":"PCB design tips"}]